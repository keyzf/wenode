<!DOCTYPE html>
<html>
<head>
<title>socket.io 聊天室例子</title>
<meta charset="utf-8">
<link rel="stylesheet" href="./style.css"/>
<script src='/peace/imcat/vimp/vendui/jquery/_jqimp.php'></script>
<script src="./socket.io.js"></script>
<script src="./func.js"></script>
</head>
<body>

<div class="wrapper">
    <p>在线：<span id="chatOnline"></span></p>
    <div id="chatDiv">
      <ul id="chatLists"></ul>
    </div>
    <div>
      <textarea id="chatText"></textarea>
      <button id="send" onclick="msgSend()">发送</button>
    </div>
</div>

<script id="msgRow" type="text/html">
<li class="some__class (me) (sys)">
  <div class="user-info">
    <p class="user-name"><a target="_blank">{uname}</a></p>
    <p class="user-ext">{ip} {stime}</p>
  </div>
  <p class="chat-msg">{msgs}</p>
</li>
</script>

<script>
// 聊天-configs
// 不要用如下字符串做为:dom的id或js变量：chatObjs,chatId,WebChat
var chat_user = {
        "uid" : 'abc', 
        "uname" : "HtmlGuest"
    };
$(function() {
    initChat('kefu.1251');
});

</script>

</body>
</html>
