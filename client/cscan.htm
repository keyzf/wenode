<!DOCTYPE html>
<html>
<head>
<title>socket.io 聊天室例子</title>
<meta charset="utf-8">
<link rel="stylesheet" href="./style.css"/>
<script src='../static/js/jquery-3x.js'></script>
<script src="../static/js/socket.io.js"></script>
<script src="../static/js/qrcode.js"></script>
<script src="./func.js"></script>
</head>
<body>

<div style="width:320px;float:right;padding:10px;">
    <div>
      <p>不发送,只接收;<br>
      模拟App接收推送信息.</p>
    </div>
</div>

<table border="1" style="width:960px">
    <tr id='to_kefus'>
<td width="33%" id='to_1200' class="act"><p>在线：<span id="chatOnline1200"></span></p>push.1200</td>
<td width="33%" id='to_1600'><p>在线：<span id="chatOnline1600"></span></p>push.1600</td>
<td width="33%" id='to_1800'><p>在线：<span id="chatOnline1800"></span></p>push.1800</td>
    </tr>
    <tr>
        <td>
<div id="chatDiv1200">
  <ul id="chatLists1200"></ul>
</div>
        </td>
        <td>
<div id="chatDiv1600">
  <ul id="chatLists1600"></ul>
</div>
        </td>
        <td>
<div id="chatDiv1800">
  <ul id="chatLists1800"></ul>
</div>
        </td>
    </tr>
</table>

<script id="msgRow" type="text/html">
<li class="some__class (me) (sys)">
  <div class="user-info">
    <p class="user-name"><a target="_blank">{uname}</a></p>
    <p class="user-ext">{stime}</p>
  </div>
  <p class="chat-msg">{msgs}</p>
</li>
</script>

<script>
// 聊天-configs
var chat_user = {
        "uid" : 'abc', 
        "uname" : "游客ABC"
    };
$(function() {
    initChat('push.1200');
    initChat('push.1600');
    initChat('push.1800');
});
$('#to_kefus td').each(function(){
    $(this).click(function(){
        $('#to_kefus td').removeClass('act');
        $(this).addClass('act');
        chatId = $(this).prop('id').replace('to_','');
        $('#to_who').html(chatId);
        //console.log(chatId);
     })
});

</script>

</body>
</html>
